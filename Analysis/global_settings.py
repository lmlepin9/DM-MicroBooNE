import numpy as np


# Histogram config
my_custom_bins = [ 0., 1.375, 2.75, 4.125, 5.5, 11.]
final_custom_bins = [ 0., 1.375, 2.75, 4.125, 5.5, 6.875]


large_histo_size = (20,22)
box_histo_size = (20,18)


# Limits plots

scalar_plot_size = (25,20)
fermion_plot_size = (22,25)



# Signal stuff

mass_dic = { "0.6":["0.01", "0.02", "0.03", "0.04", 
                    "0.05", "0.06", "0.07", "0.08", "0.09",
                    "0.1","0.2","0.3","0.4"],
             "2.0":["0.010", "0.020", "0.030", "0.040", "0.050", 
                    "0.060", "0.065", "0.070", "0.075", "0.080", 
                    "0.085", "0.090", "0.095", "0.100", "0.105",
                    "0.110","0.115","0.120", "0.125"]}



meson_scalings = {"pi0":11.7, "eta":7.2} # G4NuMI Scalings 



correction_dic_a = {"pi0":{'0.01': 11.19784853397467, '0.02': 11.14480308494305, '0.03': 10.861365287234989,
                            '0.04': 11.542805693377522, '0.05': 10.671065812689447, '0.06': 10.097780274105723, 
                            '0.07': 8.741391021099759, '0.08': 10.282083358154127, '0.09': 9.333021016331577},
                    "eta":{'0.02': 10.554556423156601, '0.03': 9.759456950173954, '0.04': 7.933804344639559, 
                           '0.05': 9.38729268000037, '0.06': 9.863488132298599, '0.07': 10.300641777002202, 
                           '0.08': 9.140639583772185, '0.09': 7.272819699465219, '0.1': 7.227711138811124, 
                           '0.2': 7.597453792009814, '0.3': 5.21930402930403, '0.4': 4.497529686476635}}


correction_dic_b = {"pi0":{'0.010': 12.606390252054876, '0.020': 8.930019230769231, '0.030': 9.031759999999998},
                    "eta":{'0.010': 7.631124586012079, '0.020': 8.19591111111111, '0.030': 7.919345661450925, 
                           '0.040': 7.694405797101449, '0.050': 9.084175, '0.060': 7.412892857142857, 
                           '0.065': 7.654674556213017, '0.070': 7.621924050632911, '0.075': 8.039975609756098,
                             '0.080': 7.350086956521739, '0.085': 6.2836923076923075, '0.090': 8.53584, 
                             '0.095': 5.906533333333333, '0.100': 7.894659999999999, '0.105': 7.48445, 
                             '0.110': 6.32975, '0.115': 6.985855513307985, '0.120': 6.165654761904762, '0.125': 5.456689655172414}}


scalar_dic_a = {"pi0":{'0.01': 0.03, '0.02': 0.07923297798210696, '0.03': 0.06913135939800424, 
                       '0.04': 0.04900638291516332, '0.05': 0.0434915589709176, '0.06': 0.03392772477849931, 
                       '0.07': 0.02491411001938373, '0.08': 0.018255055849954425, '0.09': 0.01299153927238858},
                "eta":{'0.02': 0.10320492634212626, '0.03': 0.08950691709934837, '0.04': 0.09546810528519874, 
                       '0.05': 0.07843788867203823, '0.06': 0.07827846303132159, '0.07': 0.07429622886441384, 
                       '0.08': 0.07167005163640179, '0.09': 0.06168709984063522, '0.1': 0.061216417752207014, 
                       '0.2': 0.041898757108426145, '0.3': 0.018078210643778025, '0.4': 0.007739581074428699}}


scalar_dic_b = {"pi0":{'0.010': 0.08281811169764022, '0.020': 0.03777728965180108, '0.030': 0.008443249156310619},
                "eta":{'0.010': 0.1332261631422832, '0.020': 0.10910496600705268, '0.030': 0.09189732904639591, 
                        '0.040': 0.09339177343223197, '0.050': 0.07905602324922187, '0.060': 0.0653046574260097,
                          '0.065': 0.04571248569926719, '0.070': 0.0543156650036869, '0.075': 0.04335136315787877, 
                          '0.080': 0.0406855287130587, '0.085': 0.03716408774850651, '0.090': 0.030055858591538736,
                            '0.095': 0.02964525158581458, '0.100': 0.024359377097937087, '0.105': 0.025767558070399293,
                              '0.110': 0.016662980370472768, '0.115': 0.015305369894626839, '0.120': 0.009922670708513945,
                                '0.125': 0.006790715603751169}}

# Uncertainties


# Signal DetVar
detvar_uncert = 0.18

# Cross section uncertainties in % , a for 0.6 and b for 2.0 

run1_xsec_uncert_a = {"pi0":{"0.01":1.1642872366852042, "0.02":2.270636022568592, "0.03":3.480247413464549, 
                            "0.04":4.4764105812402395, "0.05":5.499810278623624, "0.06":5.921557555575779, 
                            "0.07":7.168411940517457, "0.08":8.55106941493469, "0.09":8.965556528224896},
                     "eta":{"0.02":2.092273938343348, "0.03":3.495127243149592, "0.04":4.332933954937982, 
                            "0.05":6.066857465099005, "0.06":6.259939353727879, "0.07":7.448806577642214, 
                            "0.08":8.717941821686866, "0.09":8.986343773993905, "0.1":9.6335657781473, 
                            "0.2":18.95458632927611, "0.3":22.035723711071846, "0.4":30.33943192304358}
}




run3_xsec_uncert_a = {"pi0":{"0.01":0.9195667151117302, "0.02":2.3183237331507707, "0.03":2.820266428990807, 
                            "0.04":4.323830187528534, "0.05":5.238945388241979, "0.06":5.932396352665932, 
                            "0.07":6.4398733551441545, "0.08":8.937579950480801, "0.09":7.836316382669371},
                     "eta":{"0.02":2.1485163217119316, "0.03":3.2416082985926353, "0.04":4.135794308855429, 
                            "0.05":5.41340512934876, "0.06":7.16877300178389, "0.07":6.4101427031167235, 
                            "0.08":7.8739560492105705, "0.09":8.324218584419894, "0.1":9.220309467033687, 
                            "0.2":15.777465780963187, "0.3":20.1399863580352, "0.4":23.644286771268447}
}


run1_xsec_uncert_b = {"pi0":{"0.010":1.2989753957500023, "0.020":3.066144460842311, "0.030":4.451449291177257},
                      "eta":{"0.010":1.4838332351190289, "0.020":2.825430625417942, "0.030":4.216228428038452, 
                            "0.040":4.668685966918998, "0.050":7.009216239713371, "0.060":7.840022757040903, 
                            "0.065":7.313574977116353, "0.070":8.01118023073866, "0.075":8.525720251239436, 
                            "0.080":8.776103031617431, "0.085":10.444133955025494, "0.090":10.866147859164696, 
                            "0.095":10.915534355482889, "0.100":12.594004689855332, "0.105":12.122315090335528, 
                            "0.110":12.784987613655291, "0.115":12.69399184519348, "0.120":12.483917086072417, "0.125":13.737889427732572}}


run3_xsec_uncert_b = {"pi0":{"0.010":1.7537400954104272, "0.020":2.7228279948740886, "0.030":4.008276064746476},
                      "eta":{"0.010":1.8185746575174546, "0.020":2.863205149449813, "0.030":3.5725861373843504, 
                            "0.040":4.845522579666402, "0.050":6.506352067120829, "0.060":6.976408433477166, 
                            "0.065":7.244195390930126, "0.070":7.792779587790067, "0.075":8.281614650175381, 
                            "0.080":8.778260140901498, "0.085":9.423997674350579, "0.090":9.22501813062521, 
                            "0.095":9.945445938751233, "0.100":10.049243401987823, "0.105":11.032408656854109, 
                            "0.110":11.022726249719527, "0.115":12.153396312462139, "0.120":11.358527250095579, "0.125":13.713690459807465}}





# Background scalings

'''
For MC samples: POT_target/POT_MC 

For Beam-off: EA9CNT_wcut/EXT_NUMIwin_FEMBeamTriggerAlgo

'''

#scalings_run1 = { "nu":1./2.35e21, "dirt":1.026*0.75/1.6e21, "beamoff": 0.98*(6230439.0/9186361.390000)}

#scalings_run3 = { "nu":1./(1.993661e21), "dirt":1.0*0.35/1.020e21, "beamoff": 0.98*(10714868.0/34147459.925000)}


scalings_run1 = { "nu":1./2.35e21, "dirt":1.026*0.75/1.6e21, "beamoff": 0.98*(5736147/9186361.390000)}

scalings_run3 = { "nu":1./(1.993661e21), "dirt":1.0*0.35/1.020e21, "beamoff": 0.98*(10385459.0/34147459.925000)}
